<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GATE Exam Tracker - Subject Progress</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        :root {
            --primary: #4361ee;
            --secondary: #3f37c9;
            --success: #4cc9f0;
            --light: #f8f9fa;
            --dark: #212529;
            --algorithms: #4361ee;
            --data-structures: #7209b7;
            --os: #f72585;
            --networks: #4cc9f0;
            --dbms: #4895ef;
            --toc: #3a0ca3;
            --gray: #6c757d;
            --light-gray: #e9ecef;
            --card-bg: #ffffff;
            --body-bg: linear-gradient(135deg, #f0f2f5 0%, #e6e9f0 100%);
            --text: #212529;
            --card-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            --header-bg: #ffffff;
            --progress-bg: #e9ecef;
            --topic-bg: #f8f9fa;
            --topic-completed: #d1e7dd;
            --transition: all 0.3s ease;
            --streak-gold: #ffd700;
            --streak-silver: #c0c0c0;
            --streak-bronze: #cd7f32;
            --danger: #e63946;
        }
        
        .dark-theme {
            --primary: #5e7afc;
            --secondary: #6d5dfc;
            --success: #6bdbf8;
            --light: #121212;
            --dark: #e0e0e0;
            --algorithms: #5e7afc;
            --data-structures: #9d4edd;
            --os: #ff4d9e;
            --networks: #6bdbf8;
            --dbms: #6aa2ff;
            --toc: #6d5dfc;
            --gray: #9e9e9e;
            --light-gray: #2d2d2d;
            --card-bg: #1e1e1e;
            --body-bg: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 100%);
            --text: #e0e0e0;
            --card-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
            --header-bg: #1e1e1e;
            --progress-bg: #2d2d2d;
            --topic-bg: #2d2d2d;
            --topic-completed: #1d3c34;
            --danger: #ff6b6b;
        }
        
        body {
            background: var(--body-bg);
            color: var(--text);
            line-height: 1.6;
            padding: 20px;
            min-height: 100vh;
            transition: var(--transition);
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            position: relative;
        }
        
        .header-content {
            background: var(--header-bg);
            border-radius: 16px;
            padding: 30px;
            box-shadow: var(--card-shadow);
            max-width: 900px;
            margin: 0 auto;
            transition: var(--transition);
        }
        
        .header-top {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .theme-toggle {
            background: var(--card-bg);
            border: 1px solid var(--light-gray);
            color: var(--text);
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 1.2rem;
            transition: var(--transition);
            box-shadow: var(--card-shadow);
        }
        
        .theme-toggle:hover {
            transform: rotate(20deg);
            color: var(--primary);
        }
        
        h1 {
            font-size: 2.8rem;
            background: linear-gradient(45deg, var(--secondary), var(--primary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
        }
        
        .subtitle {
            color: var(--gray);
            font-size: 1.2rem;
            margin-bottom: 20px;
            transition: var(--transition);
        }
        
        .stats {
            display: flex;
            justify-content: center;
            gap: 25px;
            margin-top: 20px;
            flex-wrap: wrap;
        }
        
        .stat-card {
            background: var(--card-bg);
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            min-width: 180px;
            box-shadow: var(--card-shadow);
            transition: var(--transition);
            position: relative;
        }
        
        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
        }
        
        .stat-value {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 5px;
        }
        
        .stat-label {
            color: var(--gray);
            font-size: 1rem;
            transition: var(--transition);
        }
        
        .streak-flame {
            position: absolute;
            top: -10px;
            right: -10px;
            background: linear-gradient(45deg, #ff9a00, #ff2600);
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.9rem;
            box-shadow: 0 2px 8px rgba(255, 106, 0, 0.5);
            animation: pulse 1.5s infinite;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        
        .progress-section {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
            margin-bottom: 30px;
        }
        
        @media (max-width: 1100px) {
            .progress-section {
                grid-template-columns: 1fr;
            }
        }
        
        .chart-container, .subject-progress {
            background: var(--card-bg);
            border-radius: 16px;
            padding: 30px;
            box-shadow: var(--card-shadow);
            transition: var(--transition);
        }
        
        .section-title {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 25px;
            color: var(--primary);
            font-size: 1.5rem;
        }
        
        .comparison-chart {
            height: 350px;
            display: flex;
            align-items: flex-end;
            justify-content: space-around;
            gap: 20px;
            padding: 20px 0;
        }
        
        .chart-bar {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 70px;
        }
        
        .bar {
            width: 50px;
            border-radius: 8px 8px 0 0;
            transition: height 1s ease;
            position: relative;
        }
        
        .bar-value {
            position: absolute;
            top: -30px;
            left: 50%;
            transform: translateX(-50%);
            font-weight: 700;
            font-size: 0.9rem;
            color: var(--text);
        }
        
        .bar-label {
            margin-top: 15px;
            font-weight: 600;
            text-align: center;
            color: var(--gray);
            transition: var(--transition);
        }
        
        .subject-progress-bars {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        .subject-bar {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .subject-icon {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            color: white;
        }
        
        .subject-name {
            font-weight: 600;
            min-width: 200px;
            color: var(--text);
            transition: var(--transition);
        }
        
        .progress-container {
            flex: 1;
            height: 20px;
            background: var(--progress-bg);
            border-radius: 10px;
            overflow: hidden;
            transition: var(--transition);
        }
        
        .progress-fill {
            height: 100%;
            border-radius: 10px;
            transition: width 1s ease;
        }
        
        .subject-stats {
            min-width: 100px;
            text-align: right;
            font-weight: 700;
            color: var(--text);
            transition: var(--transition);
        }
        
        .subjects-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 25px;
            margin-top: 30px;
        }
        
        .subject-card {
            background: var(--card-bg);
            border-radius: 16px;
            overflow: hidden;
            box-shadow: var(--card-shadow);
            transition: var(--transition);
        }
        
        .subject-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 25px rgba(0, 0, 0, 0.15);
        }
        
        .card-header {
            padding: 25px;
            color: white;
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .card-content {
            padding: 25px;
        }
        
        .topic-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin-top: 15px;
        }
        
        .topic-item {
            display: flex;
            align-items: center;
            padding: 12px 15px;
            border-radius: 10px;
            background: var(--topic-bg);
            cursor: pointer;
            transition: var(--transition);
        }
        
        .topic-item:hover {
            background: var(--light-gray);
        }
        
        .topic-item.completed {
            background: var(--topic-completed);
        }
        
        .topic-item i {
            margin-right: 10px;
            transition: var(--transition);
        }
        
        .topic-item.completed i {
            color: #0f5132;
        }
        
        .topic-name {
            flex: 1;
            color: var(--text);
            transition: var(--transition);
        }
        
        .topic-hours {
            background: rgba(0, 0, 0, 0.08);
            padding: 3px 10px;
            border-radius: 20px;
            font-size: 0.85rem;
            color: var(--text);
            transition: var(--transition);
        }
        
        .completed .topic-hours {
            background: rgba(15, 81, 50, 0.15);
        }
        
        .progress-info {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid var(--light-gray);
            font-weight: 500;
        }
        
        .progress-percent {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--text);
            transition: var(--transition);
        }
        
        .progress-label {
            color: var(--gray);
            transition: var(--transition);
        }
        
        .btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 30px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: inline-flex;
            align-items: center;
            gap: 8px;
            margin-top: 20px;
        }
        
        .btn:hover {
            background: var(--secondary);
            transform: translateY(-3px);
        }
        
        .btn-outline {
            background: transparent;
            border: 2px solid var(--primary);
            color: var(--primary);
        }
        
        .btn-outline:hover {
            background: var(--primary);
            color: white;
        }
        
        .btn-danger {
            background: var(--danger);
        }
        
        .btn-danger:hover {
            background: #d90429;
        }
        
        .add-topic-form {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-top: 20px;
            padding: 20px;
            background: var(--topic-bg);
            border-radius: 12px;
            display: none;
        }
        
        .add-topic-form input {
            padding: 12px 15px;
            border-radius: 10px;
            border: 1px solid var(--light-gray);
            background: var(--card-bg);
            color: var(--text);
            font-size: 1rem;
        }
        
        .add-topic-form input:focus {
            outline: none;
            border-color: var(--primary);
        }
        
        .form-buttons {
            display: flex;
            gap: 10px;
        }
        
        footer {
            text-align: center;
            margin-top: 50px;
            padding: 30px;
            color: var(--gray);
            transition: var(--transition);
        }
        
        /* Analytics Section */
        .analytics-section {
            background: var(--card-bg);
            border-radius: 16px;
            padding: 30px;
            box-shadow: var(--card-shadow);
            margin-bottom: 30px;
            transition: var(--transition);
        }
        
        .analytics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin-top: 20px;
        }
        
        .analytics-card {
            background: var(--topic-bg);
            border-radius: 12px;
            padding: 20px;
            box-shadow: var(--card-shadow);
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }
        
        .analytics-card h3 {
            color: var(--primary);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .streak-container {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .streak-days {
            font-size: 2rem;
            font-weight: 700;
            color: var(--primary);
        }
        
        .countdown-container {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }
        
        .countdown-label {
            font-size: 0.9rem;
            color: var(--gray);
        }
        
        .countdown-value {
            font-size: 2rem;
            font-weight: 700;
            color: var(--primary);
        }
        
        .streak-info {
            margin-top: 10px;
            font-size: 0.9rem;
            color: var(--gray);
            font-style: italic;
        }
        
        .streak-medal {
            position: absolute;
            top: 10px;
            right: 10px;
            font-size: 2rem;
            opacity: 0.3;
        }
        
        /* Confetti animation */
        .confetti {
            position: absolute;
            width: 10px;
            height: 10px;
            background-color: #f00;
            animation: confetti-fall 5s linear forwards;
        }
        
        @keyframes confetti-fall {
            0% {
                transform: translateY(-100vh) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(100vh) rotate(720deg);
                opacity: 0;
            }
        }
        
        /* Fire animation for streak */
        .fire {
            position: absolute;
            width: 20px;
            height: 20px;
            background: radial-gradient(circle, #ff9a00 0%, #ff2600 100%);
            border-radius: 50%;
            animation: fire-grow 0.5s ease-out forwards;
            z-index: 10;
        }
        
        @keyframes fire-grow {
            0% { transform: scale(0); opacity: 0; }
            50% { transform: scale(1.2); opacity: 1; }
            100% { transform: scale(1); opacity: 1; }
        }
        
        /* Streak badge */
        .streak-badge {
            position: absolute;
            top: -10px;
            right: -10px;
            background: var(--streak-gold);
            color: #000;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            font-weight: bold;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
            z-index: 5;
        }
        
        /* Subject colors */
        .algorithms { background: var(--algorithms); }
        .data-structures { background: var(--data-structures); }
        .os { background: var(--os); }
        .networks { background: var(--networks); }
        .dbms { background: var(--dbms); }
        .toc { background: var(--toc); }
        
        .bar-algorithms { background: var(--algorithms); }
        .bar-data-structures { background: var(--data-structures); }
        .bar-os { background: var(--os); }
        .bar-networks { background: var(--networks); }
        .bar-dbms { background: var(--dbms); }
        .bar-toc { background: var(--toc); }
        
        .progress-algorithms { background: linear-gradient(90deg, var(--algorithms), #5e7afc); }
        .progress-data-structures { background: linear-gradient(90deg, var(--data-structures), #9d4edd); }
        .progress-os { background: linear-gradient(90deg, var(--os), #ff4d9e); }
        .progress-networks { background: linear-gradient(90deg, var(--networks), #6bdbf8); }
        .progress-dbms { background: linear-gradient(90deg, var(--dbms), #6aa2ff); }
        .progress-toc { background: linear-gradient(90deg, var(--toc), #6d5dfc); }
        
        /* Animation for progress bars */
        @keyframes progressFill {
            from { width: 0%; }
            to { width: var(--progress); }
        }
        
        /* Data status indicator */
        .data-status {
            position: fixed;
            bottom: 20px;
            right: 20px;
            padding: 10px 15px;
            border-radius: 30px;
            background: var(--primary);
            color: white;
            font-weight: 600;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            z-index: 1000;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.3s ease;
        }
        
        .data-status.show {
            opacity: 1;
            transform: translateY(0);
        }
        
        /* Streak celebration */
        .streak-celebration {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 2000;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.5s ease;
        }
        
        .streak-celebration.active {
            opacity: 1;
            pointer-events: all;
        }
        
        .celebration-content {
            background: white;
            padding: 40px;
            border-radius: 20px;
            text-align: center;
            max-width: 500px;
            position: relative;
            transform: scale(0.8);
            transition: transform 0.5s ease;
        }
        
        .streak-celebration.active .celebration-content {
            transform: scale(1);
        }
        
        .celebration-content h2 {
            font-size: 2.5rem;
            margin-bottom: 20px;
            color: var(--primary);
        }
        
        .celebration-content p {
            font-size: 1.2rem;
            margin-bottom: 30px;
        }
        
        .celebration-close {
            position: absolute;
            top: 15px;
            right: 15px;
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--gray);
        }
        
        .streak-number {
            font-size: 5rem;
            font-weight: 800;
            margin: 20px 0;
            color: var(--streak-gold);
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
        }
        
        /* Daily study tracker */
        .daily-tracker {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-top: 20px;
            padding: 15px;
            background: var(--topic-bg);
            border-radius: 12px;
        }
        
        .tracker-label {
            font-weight: 600;
        }
        
        .tracker-input {
            padding: 10px 15px;
            border-radius: 10px;
            border: 1px solid var(--light-gray);
            background: var(--card-bg);
            color: var(--text);
            font-size: 1rem;
            width: 100px;
            text-align: center;
        }
        
        /* Daily progress bar styling */
        .daily-progress-container {
            height: 10px;
            background: var(--progress-bg);
            border-radius: 10px;
            overflow: hidden;
            margin-top: 8px;
        }
        
        .daily-progress-fill {
            height: 100%;
            border-radius: 10px;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            transition: width 0.5s ease;
        }
        
        .daily-progress-text {
            font-size: 0.9rem;
            margin-top: 5px;
            color: var(--gray);
        }
        
        /* Responsive adjustments */
        @media (max-width: 768px) {
            h1 {
                font-size: 2.2rem;
            }
            
            .stats {
                gap: 15px;
            }
            
            .stat-card {
                min-width: 140px;
                padding: 15px;
            }
            
            .stat-value {
                font-size: 2rem;
            }
            
            .daily-tracker {
                flex-wrap: wrap;
            }
        }
        
        @media (max-width: 480px) {
            .stats {
                gap: 10px;
            }
            
            .stat-card {
                min-width: 120px;
                padding: 12px;
            }
            
            .stat-value {
                font-size: 1.8rem;
            }
        }
        
        /* Debug panel */
        .debug-panel {
            position: fixed;
            bottom: 10px;
            left: 10px;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 8px;
            padding: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            z-index: 1000;
            max-width: 300px;
            font-size: 0.85rem;
            color: #333;
            display: none; /* Hidden by default */
        }
        
        .debug-title {
            font-weight: bold;
            margin-bottom: 5px;
        }
    </style>
</head>
<body>
    <div class="debug-panel" id="debug-panel">
        <div class="debug-title">Debug Information</div>
        <div id="debug-info">Loading...</div>
    </div>
    
    <div class="streak-celebration" id="streak-celebration">
        <div class="celebration-content">
            <button class="celebration-close" id="celebration-close">&times;</button>
            <h2>Streak Milestone!</h2>
            <div class="streak-number" id="celebration-streak">100</div>
            <p>You've maintained your study streak for <span id="celebration-days">100</span> days! Keep up the great work!</p>
            <button class="btn" id="celebration-btn">Continue Studying</button>
        </div>
    </div>
    
    <div class="container">
        <div class="data-status" id="data-status">Data Saved Successfully!</div>
        
        <header>
            <div class="header-content">
                <div class="header-top">
                    <h1><i class="fas fa-graduation-cap"></i> GATE Exam Tracker</h1>
                    <button class="theme-toggle" id="theme-toggle">
                        <i class="fas fa-sun"></i>
                    </button>
                </div>
                <p class="subtitle">Track and compare your subject progress to maximize your preparation efficiency</p>
                
                <div class="stats">
                    <div class="stat-card">
                        <div class="stat-value" id="overall-progress">68%</div>
                        <div class="stat-label">Overall Progress</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="study-hours">1200</div>
                        <div class="stat-label">Study Hours</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="days-streak">120</div>
                        <div class="stat-label">Days Streak</div>
                        <div class="streak-flame" id="streak-flame">
                            <i class="fas fa-fire"></i>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value">6</div>
                        <div class="stat-label">Subjects</div>
                    </div>
                </div>
                
                <div class="daily-tracker">
                    <span class="tracker-label">Today's Study:</span>
                    <input type="number" class="tracker-input" id="daily-hours" min="0" max="12" value="0">
                    <span>hours</span>
                    <button class="btn" id="log-hours">Log Hours</button>
                </div>
            </div>
        </header>
        
        <div class="analytics-section">
            <div class="section-title">
                <i class="fas fa-chart-line"></i>
                <h2>Study Analytics</h2>
            </div>
            <div class="analytics-grid">
                <div class="analytics-card">
                    <h3><i class="fas fa-fire"></i> Current Streak</h3>
                    <div class="streak-container">
                        <div class="streak-days" id="current-streak">150</div>
                        <div>Days of consistent studying! Keep going!</div>
                    </div>
                    <div class="streak-info" id="streak-info">Last studied: Today</div>
                    <div class="streak-medal">
                        <i class="fas fa-medal" id="streak-medal"></i>
                    </div>
                </div>
                <div class="analytics-card">
                    <h3><i class="fas fa-hourglass-half"></i> Daily Target</h3>
                    <div class="streak-container">
                        <div class="streak-days">8h</div>
                        <div>Daily study goal</div>
                    </div>
                    <div class="daily-progress-container">
                        <div class="daily-progress-fill" id="daily-progress-bar" style="width: 65%"></div>
                    </div>
                    <div class="daily-progress-text" id="daily-progress-text">5.2 hours completed today</div>
                </div>
                <div class="analytics-card">
                    <h3><i class="fas fa-calendar-alt"></i> Exam Countdown</h3>
                    <div class="countdown-container">
                        <div class="countdown-value" id="exam-countdown">87</div>
                        <div class="countdown-label">Days until GATE exam</div>
                    </div>
                    <div class="streak-info" id="exam-date">February 3, 2026</div>
                </div>
            </div>
        </div>
        
        <div class="progress-section">
            <div class="chart-container">
                <div class="section-title">
                    <i class="fas fa-chart-bar"></i>
                    <h2>Subject Progress Comparison</h2>
                </div>
                <div class="comparison-chart">
                    <div class="chart-bar">
                        <div class="bar bar-algorithms" id="bar-algorithms" style="height: 210px">
                            <div class="bar-value">82%</div>
                        </div>
                        <div class="bar-label">Algorithms</div>
                    </div>
                    <div class="chart-bar">
                        <div class="bar bar-data-structures" id="bar-data-structures" style="height: 165px">
                            <div class="bar-value">65%</div>
                        </div>
                        <div class="bar-label">Data Structures</div>
                    </div>
                    <div class="chart-bar">
                        <div class="bar bar-os" id="bar-os" style="height: 115px">
                            <div class="bar-value">45%</div>
                        </div>
                        <div class="bar-label">OS</div>
                    </div>
                    <div class="chart-bar">
                        <div class="bar bar-networks" id="bar-networks" style="height: 95px">
                            <div class="bar-value">38%</div>
                        </div>
                        <div class="bar-label">Networks</div>
                    </div>
                    <div class="chart-bar">
                        <div class="bar bar-dbms" id="bar-dbms" style="height: 140px">
                            <div class="bar-value">55%</div>
                        </div>
                        <div class="bar-label">DBMS</div>
                    </div>
                    <div class="chart-bar">
                        <div class="bar bar-toc" id="bar-toc" style="height: 180px">
                            <div class="bar-value">72%</div>
                        </div>
                        <div class="bar-label">TOC</div>
                    </div>
                </div>
            </div>
            
            <div class="subject-progress">
                <div class="section-title">
                    <i class="fas fa-tasks"></i>
                    <h2>Detailed Subject Progress</h2>
                </div>
                <div class="subject-progress-bars">
                    <div class="subject-bar">
                        <div class="subject-icon algorithms">
                            <i class="fas fa-code"></i>
                        </div>
                        <div class="subject-name">Algorithms</div>
                        <div class="progress-container">
                            <div class="progress-fill progress-algorithms" id="progress-algorithms" style="width: 82%"></div>
                        </div>
                        <div class="subject-stats">82%</div>
                    </div>
                    
                    <div class="subject-bar">
                        <div class="subject-icon data-structures">
                            <i class="fas fa-sitemap"></i>
                        </div>
                        <div class="subject-name">Data Structures</div>
                        <div class="progress-container">
                            <div class="progress-fill progress-data-structures" id="progress-data-structures" style="width: 65%"></div>
                        </div>
                        <div class="subject-stats">65%</div>
                    </div>
                    
                    <div class="subject-bar">
                        <div class="subject-icon os">
                            <i class="fas fa-desktop"></i>
                        </div>
                        <div class="subject-name">Operating Systems</div>
                        <div class="progress-container">
                            <div class="progress-fill progress-os" id="progress-os" style="width: 45%"></div>
                        </div>
                        <div class="subject-stats">45%</div>
                    </div>
                    
                    <div class="subject-bar">
                        <div class="subject-icon networks">
                            <i class="fas fa-network-wired"></i>
                        </div>
                        <div class="subject-name">Computer Networks</div>
                        <div class="progress-container">
                            <div class="progress-fill progress-networks" id="progress-networks" style="width: 38%"></div>
                        </div>
                        <div class="subject-stats">38%</div>
                    </div>
                    
                    <div class="subject-bar">
                        <div class="subject-icon dbms">
                            <i class="fas fa-database"></i>
                        </div>
                        <div class="subject-name">DBMS</div>
                        <div class="progress-container">
                            <div class="progress-fill progress-dbms" id="progress-dbms" style="width: 55%"></div>
                        </div>
                        <div class="subject-stats">55%</div>
                    </div>
                    
                    <div class="subject-bar">
                        <div class="subject-icon toc">
                            <i class="fas fa-calculator"></i>
                        </div>
                        <div class="subject-name">Theory of Computation</div>
                        <div class="progress-container">
                            <div class="progress-fill progress-toc" id="progress-toc" style="width: 72%"></div>
                        </div>
                        <div class="subject-stats">72%</div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="section-title">
            <i class="fas fa-book-open"></i>
            <h2>Subjects & Topics</h2>
        </div>
        
        <div class="subjects-grid" id="subjects-grid">
            <!-- Subjects will be populated by JavaScript -->
        </div>
        
        <footer>
            <p>GATE Exam Tracker &copy; 2026 | All your progress is saved automatically</p>
            <p><i class="fas fa-database"></i> Data stored locally in your browser</p>
        </footer>
    </div>

    <script>
        // Helper function to convert camelCase to kebab-case
        function camelToKebab(str) {
            return str.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();
        }
        
        // Data structure to hold all study progress
        let studyData = {
            subjects: {
                algorithms: {
                    name: "Algorithms",
                    icon: "fa-code",
                    colorClass: "algorithms",
                    topics: [
                        { name: "Dynamic Programming", hours: 8, completed: true },
                        { name: "Greedy Algorithms", hours: 6, completed: true },
                        { name: "Divide & Conquer", hours: 7, completed: false },
                        { name: "Sorting Algorithms", hours: 5, completed: true }
                    ]
                },
                dataStructures: {
                    name: "Data Structures",
                    icon: "fa-sitemap",
                    colorClass: "data-structures",
                    topics: [
                        { name: "Arrays & Linked Lists", hours: 5, completed: true },
                        { name: "Trees & Binary Trees", hours: 7, completed: true },
                        { name: "Graphs", hours: 10, completed: false },
                        { name: "Stacks & Queues", hours: 4, completed: true }
                    ]
                },
                os: {
                    name: "Operating Systems",
                    icon: "fa-desktop",
                    colorClass: "os",
                    topics: [
                        { name: "Process Management", hours: 6, completed: true },
                        { name: "File Systems", hours: 5, completed: false },
                        { name: "Memory Management", hours: 8, completed: true },
                        { name: "Deadlocks", hours: 4, completed: false }
                    ]
                },
                networks: {
                    name: "Computer Networks",
                    icon: "fa-network-wired",
                    colorClass: "networks",
                    topics: [
                        { name: "OSI Model", hours: 5, completed: true },
                        { name: "Routing", hours: 7, completed: false },
                        { name: "TCP/IP", hours: 6, completed: true },
                        { name: "Security", hours: 5, completed: false }
                    ]
                },
                dbms: {
                    name: "DBMS",
                    icon: "fa-database",
                    colorClass: "dbms",
                    topics: [
                        { name: "ER Model", hours: 4, completed: true },
                        { name: "Normalization", hours: 6, completed: false },
                        { name: "SQL", hours: 5, completed: true },
                        { name: "Transactions", hours: 5, completed: false }
                    ]
                },
                toc: {
                    name: "Theory of Computation",
                    icon: "fa-calculator",
                    colorClass: "toc",
                    topics: [
                        { name: "Regular Languages", hours: 6, completed: true },
                        { name: "Turing Machines", hours: 8, completed: false },
                        { name: "Context-Free Languages", hours: 5, completed: true },
                        { name: "Decidability", hours: 7, completed: false }
                    ]
                }
            },
            stats: {
                overallProgress: 68,
                studyHours: 1200,
                daysStreak: 120,
                lastStudyDate: new Date().toISOString().split('T')[0],
                dailyTarget: 8,
                dailyProgress: 0
            }
        };

        // Theme toggle functionality
        const themeToggle = document.getElementById('theme-toggle');
        const body = document.body;
        const icon = themeToggle.querySelector('i');
        
        // Check for saved theme preference
        const savedTheme = localStorage.getItem('theme');
        if (savedTheme === 'dark') {
            body.classList.add('dark-theme');
            icon.classList.remove('fa-sun');
            icon.classList.add('fa-moon');
        }
        
        themeToggle.addEventListener('click', () => {
            body.classList.toggle('dark-theme');
            
            if (body.classList.contains('dark-theme')) {
                localStorage.setItem('theme', 'dark');
                icon.classList.remove('fa-sun');
                icon.classList.add('fa-moon');
            } else {
                localStorage.setItem('theme', 'light');
                icon.classList.remove('fa-moon');
                icon.classList.add('fa-sun');
            }
            
            saveData();
        });
        
        // Load study data from localStorage
        function loadData() {
            const savedData = localStorage.getItem('gateStudyData');
            if (savedData) {
                try {
                    const parsedData = JSON.parse(savedData);
                    studyData = parsedData;
                    showDataStatus("Data loaded successfully!");
                } catch (e) {
                    showDataStatus("Error loading saved data. Using default data.");
                }
            } else {
                showDataStatus("New session started. Data will be saved automatically.");
                
                // Calculate initial study hours from completed topics
                let initialStudyHours = 0;
                for (const subjectKey in studyData.subjects) {
                    const subject = studyData.subjects[subjectKey];
                    for (const topic of subject.topics) {
                        if (topic.completed) {
                            initialStudyHours += topic.hours;
                        }
                    }
                }
                studyData.stats.studyHours = initialStudyHours;
            }
        }
        
        // Save study data to localStorage
        function saveData() {
            try {
                localStorage.setItem('gateStudyData', JSON.stringify(studyData));
                showDataStatus("Data saved successfully!");
            } catch (e) {
                showDataStatus("Error saving data!");
            }
        }
        
        // Show data status message
        function showDataStatus(message) {
            const statusEl = document.getElementById('data-status');
            statusEl.textContent = message;
            statusEl.classList.add('show');
            
            setTimeout(() => {
                statusEl.classList.remove('show');
            }, 3000);
        }
        
        // Recalculate all subject progress
        function recalculateAllProgress() {
            for (const subjectKey in studyData.subjects) {
                updateSubjectProgress(subjectKey, true);
            }
        }
        
        // Update overall progress
        function updateOverallProgress() {
            let totalProgress = 0;
            let subjectCount = 0;
            
            for (const subject in studyData.subjects) {
                // Ensure progress is calculated
                if (typeof studyData.subjects[subject].progress === 'undefined') {
                    updateSubjectProgress(subject, true);
                }
                totalProgress += studyData.subjects[subject].progress;
                subjectCount++;
            }
            
            studyData.stats.overallProgress = Math.round(totalProgress / subjectCount);
            document.getElementById('overall-progress').textContent = `${studyData.stats.overallProgress}%`;
            
            // Update streak if user studied today
            const today = new Date().toISOString().split('T')[0];
            if (studyData.stats.lastStudyDate !== today) {
                studyData.stats.daysStreak++;
                studyData.stats.lastStudyDate = today;
                updateStreakDisplay();
                saveData();
            }
        }
        
        // Update streak display with animation
        function updateStreakDisplay() {
            const streak = studyData.stats.daysStreak;
            document.getElementById('days-streak').textContent = streak;
            document.getElementById('current-streak').textContent = streak;
            
            // Update streak info
            const lastStudied = new Date(studyData.stats.lastStudyDate);
            const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
            document.getElementById('streak-info').textContent = `Last studied: ${lastStudied.toLocaleDateString('en-US', options)}`;
            
            // Add streak medal based on streak length
            const medalEl = document.getElementById('streak-medal');
            medalEl.className = 'fas fa-medal streak-medal';
            
            if (streak >= 100) {
                medalEl.style.color = 'var(--streak-gold)';
            } else if (streak >= 50) {
                medalEl.style.color = 'var(--streak-silver)';
            } else if (streak >= 25) {
                medalEl.style.color = 'var(--streak-bronze)';
            }
            
            // Check for milestone celebrations
            if (streak % 25 === 0) {
                celebrateStreak(streak);
            }
        }
        
        // Calculate days until GATE exam (February 3, 2026)
        function updateExamCountdown() {
            const examDate = new Date(2026, 1, 3); // February is month 1 (0-indexed)
            const today = new Date();
            const diffTime = examDate - today;
            const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
            
            document.getElementById('exam-countdown').textContent = diffDays;
            document.getElementById('exam-date').textContent = 'February 3, 2026';
        }
        
        // Update daily progress display
        function updateDailyProgress() {
            const progressPercent = Math.min(100, (studyData.stats.dailyProgress / studyData.stats.dailyTarget) * 100);
            document.getElementById('daily-progress-bar').style.width = `${progressPercent}%`;
            document.getElementById('daily-progress-text').textContent = 
                `${studyData.stats.dailyProgress.toFixed(1)} hours completed today`;
        }
        
        // Log daily study hours
        function logDailyHours() {
            const hours = parseInt(document.getElementById('daily-hours').value);
            if (isNaN(hours) || hours < 0) {
                showDataStatus("Please enter a valid number of hours");
                return;
            }
            
            studyData.stats.studyHours += hours;
            studyData.stats.dailyProgress += hours;
            
            // Update display
            document.getElementById('study-hours').textContent = studyData.stats.studyHours;
            updateDailyProgress();
            
            // Update streak
            const today = new Date().toISOString().split('T')[0];
            if (studyData.stats.lastStudyDate !== today) {
                studyData.stats.daysStreak++;
                studyData.stats.lastStudyDate = today;
                updateStreakDisplay();
            }
            
            showDataStatus(`${hours} study hours logged for today!`);
            saveData();
        }
        
        // Celebrate streak milestone
        function celebrateStreak(streak) {
            const celebration = document.getElementById('streak-celebration');
            const streakNumber = document.getElementById('celebration-streak');
            const celebrationDays = document.getElementById('celebration-days');
            
            streakNumber.textContent = streak;
            celebrationDays.textContent = streak;
            
            celebration.classList.add('active');
            
            // Create celebration fire effect
            createFireworks(celebration);
        }
        
        // Create fireworks effect for celebration
        function createFireworks(container) {
            for (let i = 0; i < 50; i++) {
                const fire = document.createElement('div');
                fire.className = 'fire';
                fire.style.left = Math.random() * 100 + '%';
                fire.style.top = Math.random() * 100 + '%';
                fire.style.animationDelay = (Math.random() * 0.5) + 's';
                container.appendChild(fire);
                
                setTimeout(() => {
                    fire.remove();
                }, 1000);
            }
        }
        
        // Render all subjects
        function renderSubjects() {
            const subjectsGrid = document.getElementById('subjects-grid');
            subjectsGrid.innerHTML = '';
            
            for (const subjectKey in studyData.subjects) {
                const subject = studyData.subjects[subjectKey];
                const subjectCard = document.createElement('div');
                subjectCard.className = 'subject-card';
                
                // Calculate subject hours
                let subjectHours = 0;
                for (const topic of subject.topics) {
                    subjectHours += topic.hours;
                }
                
                subjectCard.innerHTML = `
                    <div class="card-header ${subject.colorClass}">
                        <div class="subject-icon ${subject.colorClass}">
                            <i class="fas ${subject.icon}"></i>
                        </div>
                        <h3>${subject.name}</h3>
                    </div>
                    <div class="card-content">
                        <div class="progress-info">
                            <div>
                                <div class="progress-label">Progress</div>
                                <div class="progress-percent">${subject.progress || 0}%</div>
                            </div>
                            <div>
                                <div class="progress-label">Study Hours</div>
                                <div class="stat-value">${subjectHours}</div>
                            </div>
                        </div>
                        
                        <div class="topic-list">
                            ${subject.topics.map(topic => `
                                <div class="topic-item ${topic.completed ? 'completed' : ''}" data-subject="${subjectKey}" data-topic="${topic.name}">
                                    <i class="fas ${topic.completed ? 'fa-check-circle' : 'fa-circle'}"></i>
                                    <div class="topic-name">${topic.name}</div>
                                    <div class="topic-hours">${topic.hours}h</div>
                                </div>
                            `).join('')}
                        </div>
                        
                        <button class="btn add-topic-btn" data-subject="${subjectKey}">
                            <i class="fas fa-plus"></i> Add Topic
                        </button>
                        
                        <div class="add-topic-form" id="${subjectKey}-form">
                            <input type="text" placeholder="Topic Name" class="topic-name-input">
                            <input type="number" placeholder="Estimated Hours" min="1" max="50" class="topic-hours-input">
                            <div class="form-buttons">
                                <button class="btn save-topic-btn" data-subject="${subjectKey}">
                                    <i class="fas fa-save"></i> Save
                                </button>
                                <button class="btn btn-outline cancel-btn" data-subject="${subjectKey}">
                                    <i class="fas fa-times"></i> Cancel
                                </button>
                            </div>
                        </div>
                    </div>
                `;
                
                subjectsGrid.appendChild(subjectCard);
            }
            
            // Add event listeners
            document.querySelectorAll('.topic-item').forEach(item => {
                item.addEventListener('click', function() {
                    const subjectKey = this.dataset.subject;
                    const topicName = this.dataset.topic;
                    const subject = studyData.subjects[subjectKey];
                    const topic = subject.topics.find(t => t.name === topicName);
                    
                    // Toggle completion status
                    const wasCompleted = topic.completed;
                    topic.completed = !topic.completed;
                    
                    // Update UI
                    this.classList.toggle('completed');
                    const icon = this.querySelector('i');
                    icon.classList.toggle('fa-circle');
                    icon.classList.toggle('fa-check-circle');
                    
                    // Update subject progress
                    updateSubjectProgress(subjectKey);
                    
                    // Create confetti effect if topic is completed
                    if (topic.completed) {
                        createConfetti();
                    }
                    
                    // Update daily progress if marking as completed
                    if (!wasCompleted && topic.completed) {
                        // Add topic hours to daily progress
                        studyData.stats.dailyProgress += topic.hours;
                        studyData.stats.studyHours += topic.hours;
                        
                        // Update UI
                        document.getElementById('study-hours').textContent = studyData.stats.studyHours;
                        updateDailyProgress();
                        
                        // Update streak if this is the first study activity today
                        const today = new Date().toISOString().split('T')[0];
                        if (studyData.stats.lastStudyDate !== today) {
                            studyData.stats.daysStreak++;
                            studyData.stats.lastStudyDate = today;
                            updateStreakDisplay();
                        }
                        
                        showDataStatus(`Marked "${topic.name}" as completed! Added ${topic.hours} hours to daily progress.`);
                    } else if (wasCompleted && !topic.completed) {
                        // Remove topic hours if unmarking completion
                        studyData.stats.dailyProgress -= topic.hours;
                        studyData.stats.studyHours -= topic.hours;
                        
                        // Update UI
                        document.getElementById('study-hours').textContent = studyData.stats.studyHours;
                        updateDailyProgress();
                    }
                    
                    saveData();
                });
            });
            
            // Add topic functionality
            document.querySelectorAll('.add-topic-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const subject = this.dataset.subject;
                    const form = document.getElementById(`${subject}-form`);
                    form.style.display = 'flex';
                    this.style.display = 'none';
                });
            });
            
            // Cancel adding topic
            document.querySelectorAll('.cancel-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const subject = this.dataset.subject;
                    const form = document.getElementById(`${subject}-form`);
                    form.style.display = 'none';
                    document.querySelector(`.add-topic-btn[data-subject="${subject}"]`).style.display = 'block';
                    // Clear inputs
                    form.querySelector('.topic-name-input').value = '';
                    form.querySelector('.topic-hours-input').value = '';
                });
            });
            
            // Save new topic
            document.querySelectorAll('.save-topic-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const subjectKey = this.dataset.subject;
                    const form = document.getElementById(`${subjectKey}-form`);
                    const topicName = form.querySelector('.topic-name-input').value;
                    const topicHours = form.querySelector('.topic-hours-input').value;
                    
                    if (!topicName || !topicHours) {
                        alert('Please fill in both fields');
                        return;
                    }
                    
                    // Add new topic to subject
                    studyData.subjects[subjectKey].topics.push({
                        name: topicName,
                        hours: parseInt(topicHours),
                        completed: false
                    });
                    
                    // Re-render subjects to show new topic
                    renderSubjects();
                    
                    // Update subject progress
                    updateSubjectProgress(subjectKey);
                    
                    saveData();
                });
            });
        }
        
        // Update subject progress - FIXED FOR DATA STRUCTURES
        function updateSubjectProgress(subjectKey, skipUI = false) {
            const subject = studyData.subjects[subjectKey];
            const topics = subject.topics;
            
            // Calculate total hours and completed hours
            let totalHours = 0;
            let completedHours = 0;
            
            for (const topic of topics) {
                totalHours += topic.hours;
                if (topic.completed) {
                    completedHours += topic.hours;
                }
            }
            
            // Calculate progress as percentage of completed hours
            subject.progress = totalHours > 0 ? Math.round((completedHours / totalHours) * 100) : 0;
            
            if (!skipUI) {
                // Convert subjectKey to kebab-case for UI elements
                const kebabKey = camelToKebab(subjectKey);
                
                // Update progress bar in detailed subject progress section
                const progressBar = document.getElementById(`progress-${kebabKey}`);
                if (progressBar) {
                    progressBar.style.width = `${subject.progress}%`;
                }
                
                // Update chart bar
                const barElement = document.getElementById(`bar-${kebabKey}`);
                if (barElement) {
                    barElement.style.height = `${Math.min(220, subject.progress * 2.5)}px`;
                    const barValue = barElement.querySelector('.bar-value');
                    if (barValue) {
                        barValue.textContent = `${subject.progress}%`;
                    }
                }
                
                // Update subject cards
                const subjectCards = document.querySelectorAll('.subject-card');
                subjectCards.forEach(card => {
                    if (card.querySelector('.card-header').classList.contains(subject.colorClass)) {
                        card.querySelector('.progress-percent').textContent = `${subject.progress}%`;
                    }
                });
            }
            
            updateOverallProgress();
        }
        
        // Create confetti effect
        function createConfetti() {
            const colors = ['#4361ee', '#7209b7', '#f72585', '#4cc9f0', '#4895ef', '#3a0ca3'];
            const container = document.querySelector('.container');
            
            for (let i = 0; i < 150; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                confetti.style.left = Math.random() * 100 + 'vw';
                confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.width = Math.random() * 10 + 5 + 'px';
                confetti.style.height = Math.random() * 10 + 5 + 'px';
                confetti.style.animationDuration = Math.random() * 3 + 2 + 's';
                container.appendChild(confetti);
                
                setTimeout(() => {
                    confetti.remove();
                }, 5000);
            }
        }
        
        // Initialize the application
        function init() {
            loadData();
            
            // Recalculate all progress to ensure consistency
            recalculateAllProgress();
            
            renderSubjects();
            updateOverallProgress();
            updateExamCountdown();
            updateStreakDisplay();
            updateDailyProgress();
            
            // Set initial stats
            document.getElementById('study-hours').textContent = studyData.stats.studyHours;
            document.getElementById('daily-hours').value = '';
            
            // Animate progress bars on load
            document.querySelectorAll('.progress-fill').forEach(bar => {
                const width = bar.style.width;
                bar.style.width = '0%';
                setTimeout(() => {
                    bar.style.width = width;
                }, 300);
            });
            
            // Animate chart bars on load
            document.querySelectorAll('.bar').forEach(bar => {
                const height = bar.style.height;
                bar.style.height = '0px';
                setTimeout(() => {
                    bar.style.height = height;
                }, 500);
            });
            
            // Add event listeners for celebration close
            document.getElementById('celebration-close').addEventListener('click', function() {
                document.getElementById('streak-celebration').classList.remove('active');
            });
            
            document.getElementById('celebration-btn').addEventListener('click', function() {
                document.getElementById('streak-celebration').classList.remove('active');
            });
            
            // Add event listener for logging hours
            document.getElementById('log-hours').addEventListener('click', logDailyHours);
            
            // Update countdown every day at midnight
            setInterval(updateExamCountdown, 86400000); // 24 hours
            
            // Update streak display daily
            setInterval(updateStreakDisplay, 86400000);
        }
        
        // Initialize when DOM is loaded
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>